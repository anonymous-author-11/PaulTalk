import std;

def mandelbrot_checksum(size : i32, max_iter : i32) -> i64 {
    total : i64 = 0;
    for y in 0..size {
        ci = ((2.0 * (y as f64)) / (size as f64)) - 1.0;
        for x in 0..size {
            cr = ((3.0 * (x as f64)) / (size as f64)) - 2.0;
            zr = 0.0;
            zi = 0.0;
            iter_count = 0;
            for iter in 0..max_iter {
                zr2 = zr * zr;
                zi2 = zi * zi;
                if zr2 + zi2 > 4.0 { break; }
                zi = (2.0 * zr * zi) + ci;
                zr = zr2 - zi2 + cr;
                iter_count = iter + 1;
            }
            total = total + (iter_count as i64);
        }
    }
    return total;
}

size = 500;
max_iter = 80;
expected : i64 = 6292377;
checksum = mandelbrot_checksum(size, max_iter);

if checksum == expected {
    IO.print("ok");
} else {
    IO.print("bad");
}
